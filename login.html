<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login</title>

<style>
body{
  background:#12002a;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:sans-serif;
}
.card{
  background:#1e003f;
  padding:25px;
  border-radius:12px;
  width:300px;
  text-align:center;
  color:white;
}
input{
  width:100%;
  padding:10px;
  margin:6px 0;
  border:none;
  border-radius:6px;
}
button{
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}
.login{background:#00e0a4;}
.create{background:#6f5cff;}
</style>
</head>

<body>

<div class="card">
  <h3 id="title">Login</h3>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button class="login" id="loginBtn">LOGIN</button>
  <button class="create" id="createBtn">CREATE ACCOUNT</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import {
  getAuth,
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  setPersistence,
  browserLocalPersistence
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

/* ðŸ”¥ à¦¤à§‹à¦®à¦¾à¦° Firebase config */
const firebaseConfig = {
  apiKey: "AIzaSyDIETvBYGyPXKDYi_H7J4Fcxv2Ir_AN6M8",
  authDomain: "olyotaskbot-7019e.firebaseapp.com",
  projectId: "olyotaskbot-7019e",
  appId: "1:384515918474:web:7535db60c5166639983b73"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* âœ… Session stable à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ */
await setPersistence(auth, browserLocalPersistence);

const email = document.getElementById("email");
const password = document.getElementById("password");

/* LOGIN */
document.getElementById("loginBtn").onclick = () => {
  signInWithEmailAndPassword(auth, email.value, password.value)
    .then(() => {
      alert("Login Success");
      window.location.href = "index.html";
    })
    .catch(err => alert(err.message));
};

/* CREATE ACCOUNT */
document.getElementById("createBtn").onclick = () => {
  createUserWithEmailAndPassword(auth, email.value, password.value)
    .then(() => {
      alert("Account Created Successfully");
    })
    .catch(err => alert(err.message));
};
</script>

</body>
</html>
